import os
import sys

if os.geteuid() != 0:
    os.execvp('sudo', ['sudo', 'python3'] + sys.argv)  # final version


# do things that require root
#print(os.listdir("/root/"))


path = "/root/.flag.txt"



try:
    f = os.open(path, os.O_RDONLY)
    flag = os.read(f, os.path.getsize(path))
    print("Flag file:")
    print(flag.decode())
except Exception as e:
    print(str(e))
finally:
    os.close(f)

